(function(){var a=this,b=this.document,c,d={},e=[["SIMPLE_SELECTOR",/(?:\w+|\*)(?:[.#:][^\s]+|\[[^\]]+\])*$/],["CHILD_COMBINATOR",/\s*>\s*$/],["ADJACENT_SIBLING",/\s*\+\s*$/],["GENERAL_SIBLING",/\s*~\s*$/],["DESCENDANT_COMBINATOR",/\s+$/]],f=function(a){while(a=a.nextSibling)if(a.nodeType===1)break;return a},g=function(a){while(a=a.previousSibling)if(a.nodeType===1)break;return a},h=function(a){a=a.firstChild,a&&a.nodeType!==1&&(a=f(a));return a},i=function(a){a=a.replace("odd","2n+1").replace("even","2n+0").replace(/\s+/g,"").replace(/^\+?(\d+)$/,"0n+$1").replace(/^-(\d+)$/,"0n-$1");var b=a.match(/^([+-])?(\d+)?n([+-])?(\d+)?$/);return{group:b[1]==="-"?-(b[2]||1):+(b[2]||1),off:b[3]?b[3]==="-"?-b[4]:+b[4]:0}},j={"*":function(){return!0},type:function(a){a=a.toLowerCase();return function(b){return b.nodeName.toLowerCase()===a}},attr:function(a,b){return function(c){return a.test(c.getAttribute(b)||"")}},":first-child":function(a){return!g(a)&&a.parentNode!==c},":last-child":function(a){return!f(a)&&a.parentNode!==c},":nth-child":function(a){a=i(a);return function(b){if(b.parentNode!==c){var d,e=0,g=h(b.parentNode);while(g){e++;if(g===b){d=a.off-e;return a.group?!(d%a.group):!d}g=f(g)}}}},":only-child":function(a){return!g(a)&&!f(a)&&a.parentNode!==c},":root":function(a){return a.ownerDocument.documentElement===a},":lang":function(a){return function(b){do if(b.lang)return b.lang===a;while(b=b.parentNode)}},":empty":function(a){return!a.firstChild},":not":function(a){var b=l(a);return function(a){return!b(a)}},":first-of-type":function(a){if(a.parentNode!==c){var b=a.nodeName;while(a=g(a))if(a.nodeName===b)return;return!0}},":last-of-type":function(a){if(a.parentNode!==c){var b=a.nodeName;while(a=f(a))if(a.nodeName===b)return;return!0}},":nth-of-type":function(a){a=i(a);return function(b){if(b.parentNode!==c){var d=b.nodeName,e,g,i=0,j=h(b.parentNode);while(j){j.nodeName===d&&i++;if(j===b){g=a.off-i;return a.group?!(g%a.group):!g}j=f(j)}}}},":only-of-type":function(a){return j[":first-of-type"](a)&&j[":last-of-type"](a)},":checked":function(a){return!!a.checked||!!a.selected},":indeterminate":function(a){return!j[":checked"](a)},":enabled":function(a){return!a.disabled},":disabled":function(a){return!!a.disabled},":target":function(b){return b.id===a.location.hash.slice(1)}},k={CHILD_COMBINATOR:function(a){return function(b){return a(b=b.parentNode)&&b}},ADJACENT_SIBLING:function(a){return function(b){return a(b=g(b))&&b}},GENERAL_SIBLING:function(a){return function(b){while(b=g(b))if(a(b))return b}},DESCENDANT_COMBINATOR:function(a){return function(b){while(b=b.parentNode)if(a(b))return b}},NONE:function(a){return function(b){return a(b)&&b}}},l=function(a){var b,c,d,e,f,g;if(typeof a!="string"){if(a.length>1){var h=[],i=0,k=a.length;for(;i<k;i++)h.push(l(a[i]));k=h.length;return function(a){for(i=0;i<k;i++)if(!h[i](a))return;return!0}}return j[a[0]]||j.type(a[0])}switch(a[0]){case".":b="class",c="~=",d=a.slice(1);break;case"#":b="id",c="=",d=a.slice(1);break;case"[":e=a.match(/^\[([\w-]+)(?:(=|~=|\^=|\$=|\|=)([^\]]+))?\]/),b=e[1],c=e[2]||"=",d=e[3]||".+";break;case":":g=a.match(/^(:[\w-]+)\(([^)]+)\)/),g&&(a=g[1],g=g[2].replace(/^['"]|['"]$/g,""));return g?j[a](g):j[a];default:return j[a]||j.type(a)}d=d.replace(/^['"]|['"]$/g,"");switch(c){case"=":f=new RegExp("^"+d+"$");break;case"*=":f=new RegExp(d);break;case"~=":f=new RegExp("(^|\\s)"+d+"(\\s|$)");break;case"|=":f=new RegExp("(^|-)"+d+"(-|$)");break;case"^=":f=new RegExp("^"+d);break;case"$=":f=new RegExp(d+"$");break;default:throw new Error("Bad attribute operator.")}return j.attr(f,b)},m=function(a){var b=[],c=k.NONE,d,f,g,h;while(a.length){for(f=0;g=e[f++];)if(h=a.match(g[1])){a=a.slice(0,-h[0].length);if(f===1)h=h[0].split(/(?=[\[:.#])/),d||(d=h[0]),b.push(c(l(h)));else{c=k[g[0]];break}}if(!h)break}b=n(b),b.first=d;return b},n=function(a){return function(b){var c=0,d;while(d=a[c++])if(!(b=d(b)))return;return!0}},o=function(a){var b=0,e=[],f,g,h;if(~a.indexOf(",")){a=a.split(/,\s*(?![^\[]*["'])/);while(b<a.length){var i=o(a[b++],c),j=i.length;while(j--){var k=e.length;while(k--&&e[k]!==i[j]);e[k]!==i[j]&&e.push(i[j])}}return e.reverse()}a=a.replace(/^\s+|\s+$/g,""),a=a.replace(/(^|\s)(:|\[|\.|#)/g,"$1*$2"),g=d[a]||(d[a]=m(a)),h=c.getElementsByTagName(g.first);while(f=h[b++])g(f)&&e.push(f);return e},p=function(){try{Array.prototype.slice.call(document.getElementsByTagName("*"));return function(a){return Array.prototype.slice.call(a)}}catch(a){a=null;return function(a){var b=[],c=0,d=a.length;for(;c<d;c++)b.push(a[c]);return b}}}(),q=o;document.querySelectorAll?o=function(a){try{return p(c.querySelectorAll(a))}catch(b){return q(a)}}:o=function(a){if(!~a.indexOf(" ")){if(a[0]==="#"&&/^#\w+$/.test(a))return[c.getElementById(a.slice(1))];if(a[0]==="."&&/^\.\w+$/.test(a))try{return p(c.getElementsByClassName(a.slice(1)))}catch(b){}if(/^\w+$/.test(a))return p(c.getElementsByTagName(a))}return q(a)};if(function(){var a=b.createElement("div");a.appendChild(b.createComment(""));return!!a.getElementsByTagName("*")[0]}())j["*"]=function(a){if(a.nodeType===1)return!0};var r=function(a,d){c=d||b;try{return o(a)}catch(e){typeof console!="undefined"&&console.log(e.stack||e+"");return[]}};r.selectors=j,this.zest=r}).call(this)